<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(~{::div})}">
<body>
    <div>
        <header>
            <div class="d-flex justify-content-between align-items-center mb-4">
                <div>
                    <h1 th:text="${mensalista.id == null ? 'Novo Mensalista' : 'Editar Mensalista'}">Mensalista</h1>
                    <div class="subtitle">Cadastre ou edite um contrato mensal</div>
                </div>
            </div>
        </header>

        <form th:action="@{/mensalistas/salvar}" th:object="${mensalista}" method="post" class="service-card p-4 mb-5" style="max-width: 800px; margin: 0 auto;">
            <input type="hidden" th:field="*{id}" />
            <input type="hidden" th:field="*{ativo}" />
            
            <div class="row">
                <div class="col-md-12 mb-4">
                    <label for="cliente" class="form-label text-secondary small text-uppercase fw-bold">Cliente</label>
                    <div class="input-group">
                        <span class="input-group-text bg-dark border-secondary text-secondary"><i class="fa-solid fa-user"></i></span>
                        <select class="form-select bg-dark text-light border-secondary" id="cliente" th:field="*{cliente}" required>
                            <option value="">Selecione um cliente...</option>
                            <option th:each="c : ${clientes}" 
                                    th:value="${c.id}" 
                                    th:text="${c.nome + ' - ' + c.telefone}">
                                João da Silva
                            </option>
                        </select>
                    </div>
                </div>

                <div class="col-md-6 mb-4">
                    <label for="diaVencimento" class="form-label text-secondary small text-uppercase fw-bold">Dia de Vencimento</label>
                    <div class="input-group">
                        <span class="input-group-text bg-dark border-secondary text-secondary"><i class="fa-regular fa-calendar"></i></span>
                        <input type="number" min="1" max="31" class="form-control bg-dark text-light border-secondary" 
                               id="diaVencimento" th:field="*{diaVencimento}" required placeholder="Ex: 5">
                    </div>
                    <div class="form-text text-secondary">Dia do mês que vence a fatura.</div>
                </div>

                <div class="col-md-6 mb-4">
                    <label for="valorMensal" class="form-label text-secondary small text-uppercase fw-bold">Valor Mensal (R$)</label>
                    <div class="input-group">
                        <span class="input-group-text bg-dark border-secondary text-secondary">R$</span>
                        <input type="number" step="0.01" class="form-control bg-dark text-light border-secondary" 
                               id="valorMensal" th:field="*{valorMensal}" required placeholder="0.00">
                    </div>
                </div>
            </div>

            <div class="d-flex gap-2 justify-content-end mt-4 pt-3 border-top border-secondary border-opacity-10">
                <a th:href="@{/mensalistas}" class="btn btn-outline-secondary px-4">Cancelar</a>
                <button type="submit" class="btn btn-primary px-4 fw-bold">
                    <i class="fa-solid fa-save me-2"></i>Salvar
                </button>
            </div>
        </form>

        <style>
            .service-card {
                background-color: #0f1623;
                border: 1px solid #1e293b;
                border-radius: 12px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            }
            .form-control:focus, .form-select:focus {
                background-color: #1e293b;
                border-color: #0ea5e9;
                box-shadow: 0 0 0 2px rgba(14, 165, 233, 0.25);
                color: #fff;
            }
            .input-group-text {
                background-color: #1e293b;
                border-color: #334155;
            }
        </style>
    </div>
</body>
</html>
